<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>POL Slots (Amoy)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="bg-grid"></div>
    <main class="app">
      <header class="panel header-panel">
        <div class="brand-block">
          <img src="./assets/Logo2MN.png" alt="POL-SLOT logo" class="brand-logo" />
          <h1>POL-SLOT</h1>
        </div>
        <div class="header-meta">
          <p id="walletStatus">Wallet: desconectada</p>
          <p id="playerBalance" class="balance-chip">Saldo wallet: - POL</p>
          <p id="chainStatus">Red: -</p>
          <p id="bankStatus">Bank: - POL</p>
          <button id="connectBtn" class="ghost-btn">Conectar wallet</button>
        </div>
      </header>

      <section class="panel jackpot-panel" id="jackpotPanel">
        <h2>Jackpot Global</h2>
        <p id="jackpotStatus" class="jackpot-chip">JACKPOT ACUMULADO: - POL</p>
        <p id="blockSpinsStatus" class="jackpot-meta">Spins del bloque: -/100</p>
      </section>

      <section class="panel machine-panel">
        <div class="payline"></div>
        <div class="reels" id="reels">
          <div class="reel" id="reel1">
            <div class="reel-window">
              <div class="reel-track" id="track1"></div>
            </div>
          </div>
          <div class="reel" id="reel2">
            <div class="reel-window">
              <div class="reel-track" id="track2"></div>
            </div>
          </div>
          <div class="reel" id="reel3">
            <div class="reel-window">
              <div class="reel-track" id="track3"></div>
            </div>
          </div>
        </div>

        <button id="spinBtn" class="spin-btn" disabled>SPIN - 1 POL</button>
        <p id="statusMsg" class="status-msg">Conecta tu wallet para jugar.</p>
        <p id="jackpotHitBanner" class="jackpot-hit-banner hidden">JACKPOT HIT!</p>
      </section>

      <section class="panel payouts-panel">
        <h2>Tabla base (cuando NO cae jackpot)</h2>
        <table>
          <thead>
            <tr>
              <th>Probabilidad</th>
              <th>Multiplicador</th>
              <th>Payout</th>
            </tr>
          </thead>
          <tbody>
            <tr><td><span class="prob-with-icon">56,90% <span class="reward-icon">&#10060;</span></span></td><td>x0</td><td>0,00 POL</td></tr>
            <tr><td><span class="prob-with-icon">17,80% <span class="reward-icon">&#127873;</span></span></td><td>x1,2</td><td>1,20 POL</td></tr>
            <tr><td><span class="prob-with-icon">20,50% <span class="reward-icon">&#11088;</span></span></td><td>x2</td><td>2,00 POL</td></tr>
            <tr><td><span class="prob-with-icon">4,50% <span class="reward-icon">&#128293;</span></span></td><td>x5</td><td>5,00 POL</td></tr>
            <tr><td><span class="prob-with-icon">0,30% <span class="reward-icon">&#128142;</span></span></td><td>x10</td><td>10,00 POL</td></tr>
          </tbody>
        </table>
        <p class="jackpot-meta">Cada spin aporta 0,1 POL al jackpot global.</p>
      </section>

      <section class="panel history-panel">
        <h2>Ultimas 5 tiradas</h2>
        <ul id="historyList">
          <li class="empty-history">Sin tiradas todavia.</li>
        </ul>
      </section>

      <section id="ownerPanel" class="panel owner-panel hidden">
        <h2>Banco y Jackpot (Owner)</h2>
        <p id="ownerInfo" class="owner-info">Solo visible para el owner del contrato.</p>

        <div class="owner-actions">
          <div class="owner-action-card">
            <label for="depositBankAmount">Depositar Bank (POL)</label>
            <input id="depositBankAmount" type="text" inputmode="decimal" value="10.00" />
            <button id="depositBankBtn" class="owner-btn">Depositar Bank</button>
          </div>

          <div class="owner-action-card">
            <label for="withdrawBankAmount">Retirar Bank (POL)</label>
            <input id="withdrawBankAmount" type="text" inputmode="decimal" value="1.00" />
            <button id="withdrawBankBtn" class="owner-btn">Retirar Bank</button>
          </div>

          <div class="owner-action-card">
            <label for="depositJackpotAmount">Depositar Jackpot (POL)</label>
            <input id="depositJackpotAmount" type="text" inputmode="decimal" value="1.00" />
            <button id="depositJackpotBtn" class="owner-btn">Depositar Jackpot</button>
          </div>

          <div class="owner-action-card">
            <label for="withdrawJackpotAmount">Retirar Jackpot (POL)</label>
            <input id="withdrawJackpotAmount" type="text" inputmode="decimal" value="1.00" />
            <button id="withdrawJackpotBtn" class="owner-btn">Retirar Jackpot</button>
          </div>
        </div>

        <p id="ownerStatus" class="owner-status"></p>
      </section>
    </main>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
